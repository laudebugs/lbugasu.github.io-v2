{"ast":null,"code":"import _slicedToArray from\"/home/laudebugs/github/laudebugs.me/laudebugs.me-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link,useParams}from\"react-router-dom\";import{documentToHtmlString}from\"@contentful/rich-text-html-renderer\";import{useSectionedPosts}from\"../custom-hooks\";import{readableDate}from\"../components/helpers\";import\"../components/Posts.less\";import WritingHeader from\"../components/WritingHeader\";import WritingFooter from\"../components/WritingFooter\";// import NavBar from \"../components/NavBar\"\nexport default function WritingSectionPage(_ref){var match=_ref.match;var _useParams=useParams(),section=_useParams.section;var _useSectionedPosts=useSectionedPosts(section),_useSectionedPosts2=_slicedToArray(_useSectionedPosts,2),posts=_useSectionedPosts2[0],isLoading=_useSectionedPosts2[1];var renderPage=function renderPage(){if(isLoading)return/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\");return posts.map(function(post){return/*#__PURE__*/React.createElement(\"div\",{key:post.fields.title,className:\"postFrame\"},/*#__PURE__*/React.createElement(Link,{key:\"/writing/\"+post.fields.slug,to:\"/writing/\"+post.fields.slug,className:\"preview\"},/*#__PURE__*/React.createElement(\"img\",{src:post.fields.feature_image.fields.file.url,alt:post.title}),/*#__PURE__*/React.createElement(\"small\",null,readableDate(post.fields.date)),/*#__PURE__*/React.createElement(\"h3\",null,post.fields.title),/*#__PURE__*/React.createElement(\"p\",null,post.fields.description),/*#__PURE__*/React.createElement(\"div\",{className:\"postPreview\",dangerouslySetInnerHTML:{__html:documentToHtmlString(post.fields.body).substring(0,200)+\"   ... \"}})));});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(WritingHeader,{section:\"/\"+section}),renderPage(),/*#__PURE__*/React.createElement(WritingFooter,null));}","map":{"version":3,"sources":["/home/laudebugs/github/laudebugs.me/laudebugs.me-frontend/src/Pages/WritingSectionPage.js"],"names":["React","Link","useParams","documentToHtmlString","useSectionedPosts","readableDate","WritingHeader","WritingFooter","WritingSectionPage","match","section","posts","isLoading","renderPage","map","post","fields","title","slug","feature_image","file","url","date","description","__html","body","substring"],"mappings":"gLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,OAASC,oBAAT,KAAqC,qCAArC,CAEA,OAAQC,iBAAR,KAAgC,iBAAhC,CACA,OAASC,YAAT,KAA6B,uBAA7B,CACA,MAAO,0BAAP,CAEA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA;AACA,cAAe,SAASC,CAAAA,kBAAT,MAAqC,IAARC,CAAAA,KAAQ,MAARA,KAAQ,gBAE9BP,SAAS,EAFqB,CAE1CQ,OAF0C,YAE1CA,OAF0C,wBAGvBN,iBAAiB,CAACM,OAAD,CAHM,0DAG3CC,KAH2C,wBAGpCC,SAHoC,wBAKlD,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAEvB,GAAID,SAAJ,CAAe,mBAAO,0CAAP,CAEf,MAAOD,CAAAA,KAAK,CAACG,GAAN,CAAU,SAACC,IAAD,qBACf,2BAAK,GAAG,CAAEA,IAAI,CAACC,MAAL,CAAYC,KAAtB,CAA6B,SAAS,CAAC,WAAvC,eAEE,oBAAC,IAAD,EACE,GAAG,CAAE,YAAcF,IAAI,CAACC,MAAL,CAAYE,IADjC,CAEE,EAAE,CAAE,YAAcH,IAAI,CAACC,MAAL,CAAYE,IAFhC,CAGE,SAAS,CAAC,SAHZ,eAKE,2BACE,GAAG,CAAEH,IAAI,CAACC,MAAL,CAAYG,aAAZ,CAA0BH,MAA1B,CAAiCI,IAAjC,CAAsCC,GAD7C,CAEE,GAAG,CAAEN,IAAI,CAACE,KAFZ,EALF,cASE,iCAAQZ,YAAY,CAACU,IAAI,CAACC,MAAL,CAAYM,IAAb,CAApB,CATF,cAWE,8BAAKP,IAAI,CAACC,MAAL,CAAYC,KAAjB,CAXF,cAaE,6BAAIF,IAAI,CAACC,MAAL,CAAYO,WAAhB,CAbF,cAcE,2BACE,SAAS,CAAC,aADZ,CAEE,uBAAuB,CAAE,CACvBC,MAAM,CACJrB,oBAAoB,CAACY,IAAI,CAACC,MAAL,CAAYS,IAAb,CAApB,CAAuCC,SAAvC,CAAiD,CAAjD,CAAoD,GAApD,EACA,SAHqB,CAF3B,EAdF,CAFF,CADe,EAAV,CAAP,CA4BD,CAhCD,CAiCA,mBACA,qDACE,oBAAC,aAAD,EAAe,OAAO,CAAE,IAAMhB,OAA9B,EADF,CAIGG,UAAU,EAJb,cAKE,oBAAC,aAAD,MALF,CADA,CAQD","sourcesContent":["import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { documentToHtmlString } from \"@contentful/rich-text-html-renderer\";\n\nimport {useSectionedPosts} from \"../custom-hooks\"\nimport { readableDate } from \"../components/helpers\";\nimport \"../components/Posts.less\";\n\nimport WritingHeader from \"../components/WritingHeader\";\nimport WritingFooter from \"../components/WritingFooter\";\n// import NavBar from \"../components/NavBar\"\nexport default function WritingSectionPage({match}) {\n  \n  const { section } = useParams();\n  const [posts, isLoading] = useSectionedPosts(section);\n\n  const renderPage = () => {\n    \n    if (isLoading) return <p>Loading...</p>;\n\n    return posts.map((post) => (\n      <div key={post.fields.title} className=\"postFrame\">\n      \n        <Link\n          key={\"/writing/\" + post.fields.slug}\n          to={\"/writing/\" + post.fields.slug}\n          className=\"preview\"\n        >\n          <img\n            src={post.fields.feature_image.fields.file.url}\n            alt={post.title}\n          />\n          <small>{readableDate(post.fields.date)}</small>\n\n          <h3>{post.fields.title}</h3>\n\n          <p>{post.fields.description}</p>\n          <div\n            className=\"postPreview\"\n            dangerouslySetInnerHTML={{\n              __html:\n                documentToHtmlString(post.fields.body).substring(0, 200) +\n                \"   ... \",\n            }}\n          ></div>\n        </Link>\n      </div>\n    ));\n  };\n  return (\n  <>\n    <WritingHeader section={\"/\" + section} />\n    {/*We realize that the script for requesting a different section isn't loaded when it's already loaded on the page*/}\n    {/* <NavBar/> */}\n    {renderPage()}\n    <WritingFooter />\n  </>);\n}\n"]},"metadata":{},"sourceType":"module"}